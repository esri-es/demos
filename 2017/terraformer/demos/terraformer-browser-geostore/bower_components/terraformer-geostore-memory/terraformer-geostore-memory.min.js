!function(a,b){if("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=b()),"object"==typeof a.navigator){if(!a.Terraformer)throw new Error("Terraformer.GeoStore.Memory requires the core Terraformer library. https://github.com/esri/Terraformer");if(!a.Terraformer.GeoStore)throw new Error("Terraformer.GeoStore.Memory requires the Terraformer GeoStore library. https://github.com/esri/terraformer-geostore");a.Terraformer.GeoStore.Memory=b(a.Terraformer).Memory}}(this,function(){function a(){this.data={}}var b={};return a.prototype.add=function(a,b){if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)this.data[a.features[c].id]=a.features[c];else this.data[a.id]=a;b&&b(null,a)},a.prototype.remove=function(a,b){delete this.data[a],b&&b(null,a)},a.prototype.get=function(a,b){b&&b(null,this.data[a])},a.prototype.update=function(a,b){this.data[a.id]=a,b&&b(null,a)},a.prototype.serialize=function(a){var b=JSON.stringify(this.data);a&&a(null,b)},a.prototype.deserialize=function(a,b){this.data=JSON.parse(a),b&&b()},b.Memory=a,b});